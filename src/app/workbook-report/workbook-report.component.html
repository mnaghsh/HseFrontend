<div>
    <mat-card class="titrCardDialog">
        <h5 class="titr">
            گزارش کارنامه محیط زیست
        </h5>
    </mat-card>
</div>
<div>
<mat-card>
    <mat-form-field class="example-container">
        <input matInput [(ngModel)]="filterZoneId" (click)="selectZones()" placeholder="فیلتر نام چک لیست">
    </mat-form-field>

    <!-- <mat-form-field class="example-container">
      <input matInput [(ngModel)]="namDepartmentHecliFilter" placeholder=" فیلتر نام ناحیه">
  </mat-form-field>

  <mat-form-field class="example-container">
      <input matInput [(ngModel)]="namAssessorHsrchFilter" placeholder=" فیلتر نام ارزیاب">
  </mat-form-field>

  <mat-form-field class="example-container">
      <input matInput [(ngModel)]="namLocationHsrchFilter" placeholder=" فیلتر نام مکان">
  </mat-form-field>

  <mat-form-field class="example-container">
      <input matInput [(ngModel)]="desQuestionHeclqFilter" placeholder="فیلتر شرح سوال">
  </mat-form-field>

  <mat-form-field class="example-container">
      <input matInput [(ngModel)]="desOptionHecloFilter" placeholder="فیلتر شرح گزینه">
  </mat-form-field>

  <mat-form-field class="example-container">
      <input matInput [(ngModel)]="namEvaluationAreaHsrch" placeholder="ناحیه مکان ارزیابی شده">
  </mat-form-field>

  <mat-form-field style="overflow-x: hidden;" class="example-container">
      <input placeholder="از تاریخ" matInput type="text" #startDate />
      <ng-persian-datepicker [timeEnable]="false" [uiTheme]="'blue'" [dateFormat]="'jYYYY-jMM-jDD'"
          [input]="startDate">
      </ng-persian-datepicker>
  </mat-form-field>
  
  <mat-form-field style="overflow-x: hidden;" class="example-container">
      <input placeholder="تا تاریخ" matInput type="text" #endDate />
      <ng-persian-datepicker [timeEnable]="false" [uiTheme]="'blue'" [dateFormat]="'jYYYY-jMM-jDD'"
          [input]="endDate">
      </ng-persian-datepicker>
  </mat-form-field>
  <br>
  <button mat-raised-button color="accent" (click)="serverFilter()">
      <i class="fa fa-filter" aria-hidden="true"></i> اعمال فیلتر
  </button>
  <button mat-raised-button color="primary" (click)="getChecklistQuestions()">
      <i class="fa fa-times" aria-hidden="true"></i> لغو فیلتر
  </button>
  <button mat-raised-button class="btnExcel" (click)="exportTable()">
      <i class="fa fa-file-excel-o" aria-hidden="true"></i> انتقال به اکسل
  </button>
  <button mat-raised-button color="warn" (click)="print()">
      <i class="fa fa-print" aria-hidden="true"></i> چاپ
  </button> -->
</mat-card>
 </div>
<app-loadingDialog *ngIf="commonService.loading==true && recievedData.itsPopup==true "></app-loadingDialog>
<app-loading *ngIf="commonService.loading==true && recievedData.itsPopup!=true "></app-loading>
<div id="print-section" class="example-container">
    <mat-form-field style="min-width: 100%;" class="example-container">
        <input matInput (keyup)="applyFilter($event)" placeholder=" جستجو در چک لیست های فیلتر شده">
    </mat-form-field>
    <table id="ReportindustrialWastePerUnit" dir="rtl" matSort class="table table-responsive table-bordered  table-striped  table-hover"
    mat-table #table [dataSource]="dataSourceReportindustrialWastePerUnit">

    <!--- Note that these columns can be defined in any order.
 The actual rendered columns are set as a property on the row definition" -->

    <!-- Position Column -->
    <ng-container matColumnDef="number">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ردیف </th>
        <td mat-cell *matCellDef="let row;let index = index"> {{index+1}} </td>
        <td style="padding: 10px;" mat-footer-cell *matFooterCellDef>
            <!-- <p style="color: red;">درصدها</p> -->
        </td>
    </ng-container>

    <ng-container matColumnDef="ratio">
        <th mat-header-cell mat-sort-header *matHeaderCellDef> ضریب</th>
        <td mat-cell *matCellDef="let element">
            <p>{{element.ratio}}</p>
        </td>
        <td mat-footer-cell *matFooterCellDef>
            <!-- <p>{{percentage}}</p> -->
        </td>
    </ng-container>

    <ng-container matColumnDef="nam_measur_hemrp">
        <th mat-header-cell mat-sort-header *matHeaderCellDef> nam_measur_hemrp</th>
        <td mat-cell *matCellDef="let element">
            <p>{{element.nam_measur_hemrp}}</p>
        </td>
        <td mat-footer-cell *matFooterCellDef>
            <!-- <p>{{percentage}}</p> -->
        </td>
    </ng-container>

    
    <ng-container matColumnDef="nam_location_hsloc">
        <th mat-header-cell mat-sort-header *matHeaderCellDef> نام واحد</th>
        <td mat-cell *matCellDef="let element">
            <p>{{element.nam_location_hsloc}}</p>
        </td>
        <td mat-footer-cell *matFooterCellDef>
            <!-- <p>{{percentage}}</p> -->
        </td>
    </ng-container>

    <ng-container matColumnDef="average">
        <th mat-header-cell mat-sort-header *matHeaderCellDef> درصد</th>

        <td mat-cell *matCellDef="let element">
            <div *ngIf="element.average" style="background-color: #aacfaa6e;">
                <p>{{element.average}}</p>
            </div>
        </td>

        <td mat-footer-cell *matFooterCellDef>
            <!-- <p style="color: red;">مجموع گزینه ها</p> -->
        </td>
    </ng-container>

    <ng-container matColumnDef="score">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>  نمره از 20 </th>

        <td mat-cell *matCellDef="let element">
            <div *ngIf="element.score" style="background-color: #aacfaa6e;">
                <p>{{element.score}}</p>
            </div>
        </td>

        <td mat-footer-cell *matFooterCellDef>
            <!-- <p style="color: red;">مجموع گزینه ها</p> -->
        </td>
    </ng-container>

    

    <tr mat-header-row *matHeaderRowDef="displayedColumnsReportindustrialWastePerUnit; sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumnsReportindustrialWastePerUnit;"></tr>
    <tr style="background-color: #794c7454;" mat-footer-row *matFooterRowDef="displayedColumnsReportindustrialWastePerUnit ; sticky: true">

        <!-- </tr> -->

</table>
    <table id="IndustrialWaste" dir="rtl" matSort class="table table-responsive table-bordered  table-striped  table-hover"
        mat-table #table [dataSource]="dataSource">

        <!--- Note that these columns can be defined in any order.
     The actual rendered columns are set as a property on the row definition" -->

        <!-- Position Column -->
        <ng-container matColumnDef="number">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>ردیف </th>
            <td mat-cell *matCellDef="let row;let index = index"> {{index+1}} </td>
            <td style="padding: 10px;" mat-footer-cell *matFooterCellDef>
                <!-- <p style="color: red;">درصدها</p> -->
            </td>
        </ng-container>

        <ng-container matColumnDef="e_monitor_request_id">
            <th mat-header-cell mat-sort-header *matHeaderCellDef> e_monitor_request_id</th>
            <td mat-cell *matCellDef="let element">
                <p>{{element.e_monitor_request_id}}</p>
            </td>
            <td mat-footer-cell *matFooterCellDef>
                <!-- <p>{{percentage}}</p> -->
            </td>
        </ng-container>

        <ng-container matColumnDef="des_lkp_typ_exit">
            <th mat-header-cell mat-sort-header *matHeaderCellDef> نوع خروجی</th>

            <td mat-cell *matCellDef="let element">
                <div *ngIf="element.des_lkp_typ_exit" style="background-color: #0080006e;">
                    <p>{{element.des_lkp_typ_exit}}</p>
                </div>
            </td>

            <td mat-footer-cell *matFooterCellDef>
                <!-- <p style="color: red;">مجموع گزینه ها</p> -->
            </td>
        </ng-container>

        <ng-container matColumnDef="des_lkp_typ_exam">
            <th mat-header-cell mat-sort-header *matHeaderCellDef> نوع آزمایش</th>
            <td mat-cell *matCellDef="let element">

                <div *ngIf="element.des_lkp_typ_exam" style="background-color: #0080006e;">
                    <p>{{element.des_lkp_typ_exam}}</p>
                </div>
            </td>
            <td mat-footer-cell *matFooterCellDef>
                <!-- <p>{{counts}}</p> -->
            </td>
        </ng-container>

        <ng-container matColumnDef="des_request_hemre">
            <th mat-header-cell mat-sort-header *matHeaderCellDef> شرح </th>
            <td mat-cell *matCellDef="let element">
                <div *ngIf="element.des_request_hemre" style="background-color: #0080006e;">
                    <p>{{element.des_request_hemre}}</p>
                </div>
            </td>
            <td mat-footer-cell *matFooterCellDef>
            </td>
        </ng-container>

        <ng-container matColumnDef="num_request_hemre">
            <th mat-header-cell mat-sort-header *matHeaderCellDef> شماره درخواست</th>
            <td mat-cell *matCellDef="let element">
                <div *ngIf="element.num_request_hemre" style="background-color: #0080006e;">
                    <p>{{element.num_request_hemre}}</p>
                </div>
            </td>
            <td mat-footer-cell *matFooterCellDef>
            </td>
        </ng-container>

        <ng-container matColumnDef="dat_request_hemre_jalali">
            <th mat-header-cell mat-sort-header *matHeaderCellDef>تاریخ درخواست</th>
            <td mat-cell *matCellDef="let element">

                <p>{{element.dat_request_hemre_jalali}}</p>
            </td>
            <td mat-footer-cell *matFooterCellDef>
            </td>
        </ng-container>

        <ng-container matColumnDef="nam_location_hsloc">
            <th mat-header-cell mat-sort-header *matHeaderCellDef> مکان </th>
            <td mat-cell *matCellDef="let element">
                <p>{{element.nam_location_hsloc}}</p>
            </td>
            <td mat-footer-cell *matFooterCellDef>
            </td>
        </ng-container>

        <ng-container matColumnDef="s_location_id">
            <th mat-header-cell mat-sort-header *matHeaderCellDef> کد مکان </th>
            <td mat-cell *matCellDef="let element">
                <p>{{element.s_location_id}}</p>
            </td>
            <td mat-footer-cell *matFooterCellDef>
            </td>
        </ng-container>

        <ng-container matColumnDef="nam_param_hemop">
            <th mat-header-cell mat-sort-header *matHeaderCellDef> نام پارامتر </th>
            <td mat-cell *matCellDef="let element">
                <p>{{element.nam_param_hemop}}</p>
            </td>
            <td mat-footer-cell *matFooterCellDef>
            </td>
        </ng-container>

        <ng-container matColumnDef="nam_measur_hemrp">
            <th mat-header-cell mat-sort-header *matHeaderCellDef> مقدار اندازه گیری </th>
            <td mat-cell *matCellDef="let element">
                <p>{{element.nam_measur_hemrp}}</p>
            </td>
            <td mat-footer-cell *matFooterCellDef>
            </td>
        </ng-container>

        <ng-container matColumnDef="nam_real_measur_hemrp">
            <th mat-header-cell mat-sort-header *matHeaderCellDef>مقدار واقعی </th>
            <td mat-cell *matCellDef="let element">
                <p>{{element.nam_real_measur_hemrp}}</p>
            </td>
            <td mat-footer-cell *matFooterCellDef>
            </td>
        </ng-container>

        <ng-container matColumnDef="flg_abssence">
            <th mat-header-cell mat-sort-header *matHeaderCellDef> مغایرت </th>
            <td mat-cell *matCellDef="let element">
                <p>{{element.flg_abssence}}</p>
            </td>
            <td mat-footer-cell *matFooterCellDef>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        <tr style="background-color: #794c7454;" mat-footer-row *matFooterRowDef="displayedColumns ; sticky: true">
            <!-- <mat-paginator [pageSizeOptions]="[20,50, 100,1000]"></mat-paginator> -->
            <!-- </tr> -->

    </table>
   
</div>

