<!-- <ng-container [ngSwitch]="stepperOrientation | async">
    <div *ngSwitchCase="'horizontal'">Make your screen smaller to see a vertical stepper</div>
    <div *ngSwitchCase="'vertical'">Make your screen larger to see a horizontal stepper</div>
</ng-container> -->

<div>
    <mat-card class="titrCard">
        <h5 class="titr">
            انجام ارزیابی </h5>
    </mat-card>
</div>
<div>
    <br>
    <br>

    <app-loading *ngIf="commonService.loading==true"></app-loading>

    <mat-stepper class="example-stepper" [orientation]="(stepperOrientation | async)!">
        <mat-step [stepControl]="firstLevel" label=" انتخاب چک لیست ">
            <form [formGroup]="firstLevel" style="text-align: center;">
                <mat-form-field appearance="fill">
                    <mat-label>نام چک لیست</mat-label>
                    <input (click)="selectCheckList()" matInput   formControlName="firstCtrl" required>
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <mat-label>انتخاب مکان</mat-label>
                    <input (click)="selectLocations()" matInput  formControlName="secondCtrl" required>
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <mat-label>انتخاب ارزیاب</mat-label>
                    <input matInput  formControlName="thirdCtrl" required>
                </mat-form-field>
                <mat-form-field appearance="fill"  >
                    <mat-label>توضیحات</mat-label>
                    <input matInput  formControlName="forthCtrl">
                </mat-form-field>
                <div>
                    <button  *ngIf="firstLevel.valid" (click)="addRequestChecklist()" style="float: left;"  mat-raised-button color="accent"  mat-button matStepperNext>مرحله بعد</button>
                    <button disabled *ngIf="!firstLevel.valid" (click)="addRequestChecklist()" style="float: left;"  mat-raised-button color="accent"  mat-button >مرحله بعد</button>
                    
                </div>
            </form>
        </mat-step>
        <mat-step [stepControl]="secondFormGroup" label="پرکردن چک لیست ">
            <form [formGroup]="secondFormGroup">
                <div class="example-container ">

                    <table dir="rtl" matSort class="table table-responsive table-bordered  table-striped  table-hover" mat-table #table
                      [dataSource]="dataSource">
                  
                      <!--- Note that these columns can be defined in any order.
                        The actual rendered columns are set as a property on the row definition" -->
                  
                      <!-- Position Column -->
                      <ng-container matColumnDef="number">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>ردیف </th>
                        <td mat-cell *matCellDef="let row;let index = index"> {{index+1}} </td>
                        <td mat-footer-cell *matFooterCellDef>
                          <p  style="font-weight: bold;">  ایجاد سوال جدید برای چک لیست {{checklistName}} </p>
                        </td>
                      </ng-container>
                  
                      <ng-container matColumnDef="desQuestionHeclq">
                        <th mat-header-cell mat-sort-header *matHeaderCellDef> شرح سوال</th>
                        <td mat-cell *matCellDef="let element">
                          <mat-form-field *ngIf="edit" class="example-full-width" appearance="fill">
                            <input matInput *ngIf="edit" [placeholder]="" [(ngModel)]="element.desQuestionHeclq" type="text">
                          </mat-form-field>
                          <p *ngIf="!edit">{{element.desQuestionHeclq}}</p>
                        </td>
                        <td mat-footer-cell *matFooterCellDef>
                          <mat-form-field style="max-height: 52px;" class="example-full-width" appearance="fill">
                            <input matInput placeholder="نام چک لیست" [(ngModel)]="newRowObj.desQuestionHeclq" type="text">
                          </mat-form-field>
                        </td>
                      </ng-container>
                  
                      <ng-container matColumnDef="process">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>عملیات </th>
                        <td mat-cell *matCellDef="let row;let index = index">
                          <!-- <i *ngIf="edit==false " class="fa fa-pencil-square-o iconEdit" (click)="editRow(row)"></i> -->
                          <!-- <i *ngIf="edit==true && row.editable==true" class="fa fa-check-square-o iconOk" (click)="updateRow(row)"></i> -->
                          <!-- <i *ngIf="edit==false " class="fa fa-trash iconDelete" (click)="deleteRow(row)"></i> -->
                        </td>
                        <td mat-footer-cell *matFooterCellDef="let row;let index = index">
                          <!-- <i *ngIf="edit==false " class="fa fa-plus-square iconAdd" (click)="addRow()"></i> -->
                        </td>
                      </ng-container>
                  
                      <tr mat-header-row *matHeaderRowDef="displayedColumns;"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                      <tr style="background-color: #794c7454;" mat-footer-row *matFooterRowDef="displayedColumns ; sticky: true">
                  
                      </tr>
                  
                    </table>
                  
                    <mat-paginator [pageSizeOptions]="[5, 100]"></mat-paginator>
                  
                  </div>
                <!-- <app-checklist-questions *ngIf="openQuestions==true" recivedChecklistId="checklistId"></app-checklist-questions> -->
                <div>
                    <button style="float: right;"  mat-raised-button color="primary"  mat-button matStepperPrevious>مرحله قبل</button>
                    <button style="float: left;"  mat-raised-button color="accent"  mat-button matStepperNext>مرحله بعد</button>
                </div>
            </form>
        </mat-step>
        <!-- <mat-step [stepControl]="thirdFormGroup" label="پرکردن چک لیست ">
            <form [formGroup]="thirdFormGroup">
                          
                <div>
                    <button style="float: right;"  mat-raised-button color="primary"  mat-button matStepperPrevious>مرحله قبل</button>
                </div>
            </form>
        </mat-step> -->

        
    </mat-stepper>